<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>No room for a new &lsquo;thing&rsquo;</title>
<link rel="stylesheet" href="faq.css">
</head>
<body>
<div class="breadcrumbs">
<a href="index.html">FAQ</a> &gt; <a href="index.html#"></a> &gt; <a href="index.html#Q-noroom">No room for a new &lsquo;<em>thing</em>&rsquo;</a>
</div>
<h1>No room for a new &lsquo;<em>thing</em>&rsquo;</h1>


<p>

<p>
The technology available to Knuth at the time TeX was written is
said to have been particularly poor at managing dynamic storage; as a
result much of the storage used within TeX is allocated as fixed
arrays, in the reference implementations.  Many of these fixed arrays
are expandable in modern TeX implementations, but size of the
arrays of &ldquo;registers&rdquo; is written into the specification as being 256
(usually); this number may not be changed if you still wish to call
the result TeX
(see <a class="FAquestion.html" href="FAQ-triptrap.html">testing TeX implementations</a>).

<p>
If you fill up one of these register arrays, you get a TeX error
message saying
<blockquote>
<pre>
! No room for a new \<thing>.
</pre>
</blockquote>
The <code>&#x5c;thing</code>s in question may be <code>&#x5c;count</code> (the object underlying
LaTeX&rsquo;s <code>&#x5c;newcounter</code> command), <code>&#x5c;skip</code> (the object underlying
LaTeX&rsquo;s <code>&#x5c;newlength</code> command), <code>&#x5c;box</code> (the object underlying
LaTeX&rsquo;s <code>&#x5c;newsavebox</code> command), or <code>&#x5c;dimen</code>, <code>&#x5c;muskip</code>,
<code>&#x5c;toks</code>, <code>&#x5c;read</code>, <code>&#x5c;write</code> or <code>&#x5c;language</code> (all types of object
whose use is &ldquo;hidden&rdquo; in LaTeX; the limit on the number of
<code>&#x5c;read</code> or <code>&#x5c;write</code> objects is just 16).

<p>
There is nothing that can directly be done about this error, as you can&rsquo;t
extend the number of available registers without extending TeX
itself.
  Of course, <a href="FAQ-etex.html">e-TeX</a>, <a href="FAQ-omegaleph.html">Omega</a> and
  <a href="FAQ-luatex.html">LuaTeX</a>
all do this, as does <a href="FAQ-commercial.html">MicroPress Inc&rsquo;s VTeX</a>.

<p>
The commonest way to encounter one of these error messages is to have
broken macros of some sort, or incorrect usage of macros (an example
is discussed in <a class="FAquestion.html" href="FAQ-epsf.html">epsf problems</a>).

<p>
However, sometimes one just <em>needs</em> more than TeX can offer,
and when this happens, you&rsquo;ve just got to work out a different way of
doing things.  An example is the 
<a href="FAQ-usepictex.html">difficulty of loading PicTeX with LaTeX</a>.
The more modern drawing package, <i class="package">pgf</i> with its higher-level
interface <i class="package">TikZ</i> is also a common source of such problems.

<p>
In such cases, it is usually possible to use the
<a href="FAQ-etex.html">e-TeX</a> extensions (all modern distributions provide
them).  The LaTeX package <i class="package">etex</i> modifies the register allocation
mechanism to make use of e-TeX&rsquo;s extended register sets.
<i class="package">Etex</i> is a
derivative of the Plain TeX macro file <i class="package">etex.src</i>, which is
used in building the e-TeX Plain format; both files are part of the
e-TeX distribution and are available in current distributions.

<p>
It is possible that, even with <i class="package">etex</i> loaded, you still find
yourself running out of things.  Problems can be caused by packages
that use large numbers of &ldquo;inserts&rdquo; (inserts are combinations of
counter, box, dimension and skip registers, used for storing floats
and footnotes).  <i class="package">Morefloats</i> does this, of course (naturally enough,
allocating new floats), and footnote packages such as
<i class="package">manyfoot</i> and <i class="package">bigfoot</i> (which uses <i class="package">manyfoot</i>)
can also give problems.  The <i class="package">etex</i> extensions allow you to deal with
these things: the command <code>&#x5c;reserveinserts</code><code>&#x7b;n&#x7d;</code> ensures there
is room for &lsaquo;<i>n</i>&rsaquo; more inserts.  Hint: by default
<i class="package">morefloats</i> adds 18 inserts (though it can be instructed to
use more), and <i class="package">manyfoot</i> seems to be happy with 10 reserved,
but there are &lsquo;hard&rsquo; limits that we cannot program around&nbsp;&mdash; the
discussion of <a href="FAQ-tmupfl.html">running out of floats</a> has more about this.
It is essential that you load <i class="package">etex</i> before any other
packages, and reserve any extra inserts immediately:
<blockquote>
<pre>
\documentclass[...]{...}
\usepackage{etex}
\reserveinserts{28}
</pre>
</blockquote>

<p>
The e-TeX extensions don&rsquo;t help with <code>&#x5c;read</code> or <code>&#x5c;write</code>
objects (and neither will the <i class="package">etex</i> package), but the
<i class="package">morewrites</i> package can provide the <em>illusion</em> of large
numbers of <code>&#x5c;write</code> objects.
<dl>
<dt class="ctanref">morewrites.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/morewrites">morewrites</a>
</dl>

<p>

<hr><p class="faqlink">This question on the Web: <a href="http://www.tex.ac.uk/cgi-bin/texfaq2html?label=noroom">http://www.tex.ac.uk/cgi-bin/texfaq2html?label=noroom</a></p>
