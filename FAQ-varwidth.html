<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Automatic sizing of minipage</title>
<link rel="stylesheet" href="faq.css">
</head>
<body>
<div class="breadcrumbs">
<a href="index.html">FAQ</a> &gt; <a href="index.html#HowdoIdohellip">How do I do&hellip;?</a> &gt; <a href="index.html#Oddsandends">Odds and ends</a> &gt; <a href="index.html#Q-varwidth">Automatic sizing of <code class="environment">minipage</code></a>
</div>
<h1>Automatic sizing of <code class="environment">minipage</code></h1>


<p>

<p>
The <code class="environment">minipage</code> environment requires you to specify the
width of the &ldquo;page&rdquo; you&rsquo;re going to create.  This is sometimes
inconvenient: you would like to occupy less space, if possible, but
<code class="environment">minipage</code> sets a box that is exactly the width you
specified.

<p>
The <i class="package">pbox</i> package defines a <code>&#x5c;pbox</code> whose width is exactly
that of the longest enclosed line, subject to a maximum width that you
give it.  So while <code>&#x5c;parbox</code><code>&#x7b;2cm&#x7d;</code></code><code>&#x7b;Hello&#x5c; world!&#x7d;</code> produces a
box of width exactly <tt>2cm</tt>,
<code>&#x5c;pbox</code><code>&#x7b;2cm&#x7d;</code></code><code>&#x7b;Hello&#x5c; world!&#x7d;</code> produces one whose width is
<tt>1.79cm</tt> (if one&rsquo;s using the default <i class="fontname">cmr</i> font for the
text, at least).  The package also provides a
<code>&#x5c;settominwidth</code><code>[min]</code></code><code>&#x7b;length&#x7d;</code><code>&#x7b;text&#x7d;</code> (which looks (almost)
like the standard <code>&#x5c;settowidth</code> command), and a <code>&#x5c;widthofpbox</code>
function analogous to the <code>&#x5c;widthof</code> command for use with the
<i class="package">calc</i> package.

<p>
The <i class="package">eqparbox</i> package extends <i class="package">pbox</i>&rsquo;s idea, by
allowing you to set a series of boxes, all with the same (minimised)
width.  (Note that it doesn&rsquo;t accept a limiting maximum width
parameter.)  The package documentation shows the following example
drawn from a joke <em>curriculum vitae</em>:
<blockquote>
<pre>
\noindent%
\eqparbox{place}%
    {\textbf{Widgets, Inc.}}
        \hfill
\eqparbox{title}%
    {\textbf{Senior Widget Designer}}
        \hfill
\eqparbox{dates}{\textbf{1/95--present}}

...

\noindent%
\eqparbox{place}%
    {\textbf{Thingamabobs, Ltd.}}
        \hfill
\eqparbox{title}%
    {\textbf{Lead Engineer}}
        \hfill
\eqparbox{dates}{\textbf{9/92--12/94}}
</pre>
<pre>
\noindent%
\eqparbox{place}{\textbf{Widgets, Inc.}} \hfill
\eqparbox{title}{\textbf{Senior Widget Designer}} \hfill
\eqparbox{dates}{\textbf{1/95--present}}

...

\noindent%
\eqparbox{place}{\textbf{Thingamabobs, Ltd.}} \hfill
\eqparbox{title}{\textbf{Lead Engineer}} \hfill
\eqparbox{dates}{\textbf{9/92--12/94}}
</pre>
</blockquote>
The code makes the three items on each of the heading lines have
exactly the same width, so that the lines as a whole produce a regular
pattern down the page.  A command <code>&#x5c;eqboxwidth</code> allows you to use
the measured width of a group: the documentation shows how the command
may be used to produce sensible-looking columns that mix <tt>c</tt>-,
<tt>r</tt>- or <tt>l</tt>-rows, with the equivalent of a <code class="verb">p&#x7b;...&#x7d;</code>
entry, by making the fixed-width rows an <i class="package">eqparbox</i> group, and
making the last from a <code>&#x5c;parbox</code> using the width that&rsquo;s been
measured for the group.

<p>
The <i class="package">varwidth</i> package defines a <code class="environment">varwidth</code>
environment which sets the content of the box to match a &ldquo;narrower
natural width&rdquo; if it finds one.  (You give it the same parameters as
you would give <code class="environment">minipage</code>: in effect, it is a &lsquo;drop-in&rsquo;
replacement.)  <i class="package">Varwidth</i> provides its own ragged text command:
<code>&#x5c;narrowragged</code>, which aims to make narrower lines and to put more
text in the last line of the paragraph (thus producing lines with more
nearly equal lengths than typically happens with <code>&#x5c;raggedright</code>
itself).

<p>
The documentation (in the package file) lists various restrictions and
things still to be done, but the package is already proving useful for
a variety of jobs.
<dl>
<dt class="ctanref">eqparbox.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/eqparbox">eqparbox</a>
<dt class="ctanref">pbox.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/pbox">pbox</a>
<dt class="ctanref">varwidth.sty</dt><dd><a class="ctan" href="https://www.ctan.org/pkg/varwidth">varwidth</a>
</dl>

<p>

<hr><p class="faqlink">This question on the Web: <a href="http://www.tex.ac.uk/cgi-bin/texfaq2html?label=varwidth">http://www.tex.ac.uk/cgi-bin/texfaq2html?label=varwidth</a></p>

<p>

<p>

<p>
