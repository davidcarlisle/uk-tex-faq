<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Q-wrongpn</title>
<link rel="stylesheet" href="faq.css">
</head>
<body>
<div class="breadcrumbs">
<a href="index.html">FAQ</a> &gt; <a href="index.html#Whydoesitemdoemthat">Why does it <em>do</em> that?</a> &gt; <a href="index.html#Commonerrors">Common errors</a> &gt; </div>
<h1>Page number is wrong at start of page</h1>


<p>

<p>
This is a long story, whose sources are deep inside the workings of
TeX itself; it all derives from the TeX&rsquo;s striving to generate
the best possible output.

<p>
The page number is conventionally stored in <code>&#x5c;count0</code>; LaTeX
users see this as the counter <tt>page</tt>, and may typeset its value
using <code>&#x5c;thepage</code>.

<p>
The number (that is to say, <code>&#x5c;count0</code>) is only updated when TeX
actually outputs a page.  TeX only even tries to do this when it
detects a hint that it may be a good thing to do.  From TeX&rsquo;s point
of view, the end of a paragraph is a good time to consider outputting
a page; it will output a page if it has <em>more</em> than a page&rsquo;s
worth of material to output.  (Ensuring it always has something in
hand makes some optimisations possible.)  As a result, <code>&#x5c;count0</code>
(<code>&#x5c;thepage</code>) is almost always wrong in the first paragraph of a
page (the exception is where the page number has been &ldquo;forcibly&rdquo;
changed, either by changing its value directly, or by breaking the
page where TeX wouldn&rsquo;t necessarily have chosen to break).

<p>
LaTeX provides a safe way of referring to the page number, by using
label references.  So, rather than writing:
<blockquote>
<pre>
Here is page \thepage{}.
</pre>
</blockquote>
you should write:
<blockquote>
<pre>
Here is page \pageref{here}\label{here}.
</pre>
</blockquote>
(note: no space between the <code>&#x5c;pageref</code> and the <code>&#x5c;label</code>, since
that could potentially end up as a page-break space itself, which
rather defeats the purpose of the exercise!).

<p>
