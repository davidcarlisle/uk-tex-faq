<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Commands gobble following space</title>
<link rel="stylesheet" href="faq.css">
</head>
<body>
<div class="breadcrumbs">
<a href="index.html">FAQ</a> &gt; <a href="index.html#Whydoesitemdoemthat">Why does it <em>do</em> that?</a> &gt; <a href="index.html#Commonmisunderstandings">Common misunderstandings</a> &gt; <a href="index.html#Q-xspace">Commands gobble following space</a>
</div>
<h1>Commands gobble following space</h1>


<p>

<p>
People are forever surprised that simple commands gobble the space
after them: this is just the way it is.  The effect arises from the
way TeX works, and Lamport describes a solution (place a pair of braces
after a command&rsquo;s invocation) in the description of LaTeX syntax.
Thus the requirement is in effect part of the definition of LaTeX.

<p>
These FAQs,
for example, is written in LaTeX for production of a web site.  The
HTML code is generated by a script that <em>requires</em> a pair of
braces, to make a null argument, as in:
<blockquote>
  <code>&#x5c;fred</code><code>&#x7b;&#x7d;</code> 
</blockquote>
for almost all macro invocations, regardless
of whether the following space is required: however, these FAQs
should not itself be regarded as a model of LaTeX style.

<p>
Many users find all those braces become very tedious very
quickly, and would really rather not type them all.

<p>
An alternative structure, that doesn&rsquo;t violate the design of LaTeX,
is to say <code>&#x5c;fred</code><code>&#x5c; </code>&nbsp;&mdash; the <code>&#x5c; </code> command is &ldquo;self
terminating&rdquo; (like <tt>&#x5c; </tt>) and you don&rsquo;t need braces after
<em>it</em>.  Thus one can reduce to one the number of extra characters
one needs to type.

<p>
If even that one character is too many, the package <i class="package">xspace</i>
defines a command <code>&#x5c;xspace</code> that guesses whether there should have
been a space after it, and if so introduces that space.  So
&ldquo;<tt>fred<code>&#x5c;xspace</code> jim</tt>&rdquo; produces &ldquo;fred jim&rdquo;, while
&ldquo;<tt>fred<code>&#x5c;xspace</code>. jim</tt>&rdquo; produces &ldquo;fred. jim&rdquo;.  Which
usage would of course be completely pointless; but you can incorporate
<code>&#x5c;xspace</code> in your own macros:
<blockquote>
<pre>
\usepackage{xspace}
...
\newcommand{\restenergy}{\ensuremath{mc^2}\xspace}
...
and we find \restenergy available to us...
</pre>
<pre>
\usepackage{xspace}
...
\newcommand{\restenergy}%
           {\ensuremath{mc^2}\xspace}
...
and we find \restenergy available to us...
</pre>
</blockquote>
The <code>&#x5c;xspace</code> command must be the last thing in your macro
definition (as in the example); it&rsquo;s not completely foolproof, but it
copes with most obvious situations in running text.

<p>
The <i class="package">xspace</i> package doesn&rsquo;t save you anything if you use it in
a macro that appears only once or twice within your document, and it
is not totally foolproof.  (The original author of the package wrote
it because he had been bitten by lost spaces.  He no longer recommends
its use, simply because of the possibility of error.)

<p>
In any case, be
careful with usage of <code>&#x5c;xspace</code>&nbsp;&mdash; it changes your input syntax,
which can be confusing, notably to a collaborating author
(particularly if you create some commands which use it and some which
don&rsquo;t).  No command built into LaTeX or into any
&ldquo;standard&rdquo; class or package will use <code>&#x5c;xspace</code>.
<dl>
<dt class="ctanref">xspace.sty</dt><dd>Distributed as part of <a class="ctan" href="https://www.ctan.org/pkg/xspace">2etools</a>
</dl>

<p class="lastedit">This answer last edited: 2013-11-26</p>

<p>

<hr><p class="faqlink">This question on the Web: <a href="http://www.tex.ac.uk/cgi-bin/texfaq2html?label=xspace">http://www.tex.ac.uk/cgi-bin/texfaq2html?label=xspace</a></p>
