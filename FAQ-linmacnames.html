<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Q-linmacnames</title>
<link rel="stylesheet" href="faq.css">
</head>
<body>
<div class="breadcrumbs">
<a href="index.html">FAQ</a> &gt; <a href="index.html#Macroprogramming">Macro programming</a> &gt; <a href="index.html#ldquoGenericrdquomacrosandtechniques">&ldquo;Generic&rdquo; macros and techniques</a> &gt; </div>
<h1>Non-letters in macro names</h1>


<p>

<p>
New LaTeX users are often suprised that macro definitions
containing non-letters, such as
<blockquote>
<pre>
\newcommand{\cul8r}{Goodbye!}
</pre>
</blockquote>
fail to compile.  The reason is that the TeX macro language, unlike
most programming languages, allows 
<a href="FAQ-whatmacros.html">nothing but letters in macro names</a>.

<p>
There are a number of techniques for defining a macro with a name like
<code>&#x5c;cul8r</code>.  Unfortunately, none of the techniques is particularly
good:
<ol>
<li> Use <code>&#x5c;csname</code>[[[dots]]]<code>&#x5c;endcsname</code> to define and invoke the
  macro:
<blockquote>

<pre>
\expandafter\newcommand
       \csname cul8r\endcsname{Goodbye!}
I said, ``\csname cul8r\endcsname''.
</pre>


<pre>
\expandafter\newcommand\csname cul8r\endcsname{Goodbye!}
I said, ``\csname cul8r\endcsname''.
</pre>

</blockquote>
  <dl>
  <dt class="description">Pro:</dt><dd> No unexpected side effects
  <dt class="description">Con:</dt><dd> So verbose as to be unusable
  </dl>
<li> Define a &ldquo;special-command generator&rdquo;, and  use the resulting
  commands:
<blockquote>

<pre>
\newcommand{\DefineRemark}[2]{%
  \expandafter\newcommand
     \csname rmk-#1\endcsname{#2}%
}
\newcommand{\Remark}[1]{%
  \csname rmk-#1\endcsname%
}
...
\DefineRemark{cul8r}{Goodbye!}
...
I said, ``\Remark{cul8r}''.
</pre>


<pre>
\newcommand{\DefineRemark}[2]{%
  \expandafter\newcommand\csname rmk-#1\endcsname{#2}%
}
\newcommand{\Remark}[1]{\csname rmk-#1\endcsname}
...
\DefineRemark{cul8r}{Goodbye!}
...
\Remark{cul8r}
</pre>

</blockquote>
  <dl>
  <dt class="description">Pro:</dt><dd> Straightforward to use, not too untidy
  <dt class="description">Con:</dt><dd> It&rsquo;s hardly doing what we set out to do (experts will
    see that you are defining a macro, but others likely won&rsquo;t)
  </dl>
<li> Convince TeX that &ldquo;<tt>8</tt>&rdquo; is a letter:
<blockquote>
<pre>
\catcode`8 = 11 
\newcommand{\cul8r}{Goodbye!}
I said, ``\cul8r''.
</pre>
</blockquote>
  <dl>
  <dt class="description">Pro:</dt><dd> <code>&#x5c;cul8r</code> can be used directly
  <dt class="description">Con:</dt><dd> Likely to break other uses of &ldquo;<tt>8</tt>&rdquo; (such as
    numbers or dimensions; so
    <code>&#x5c;setlength</code><code>&#x7b;<code>&#x5c;paperwidth</code>&#x7d;</code></code><code>&#x7b;8in&#x7d;</code> tells us:
<blockquote>
<pre>
! Missing number, treated as zero.
<to be read again> 
                   8
</pre>
</blockquote>
  </dl>
  As a general rule, changing category codes is something to use
  <em>in extremis</em>, after detailed examination of options.  It is
  conceivable that such drastic action could be useful for you, but
  most ordinary users are well advised not even to try such a
  technique.
<li> Define a macro <code>&#x5c;cul</code> which must always be followed by
  &ldquo;<tt>8r</tt>&rdquo;:
<blockquote>
<pre>
\def\cul8r{Goodbye!}
I said, ``\cul8r''.
</pre>
</blockquote>
  <dl>
  <dt class="description">Pro:</dt><dd> <code>&#x5c;cul8r</code> can be used directly
  <dt class="description">Con&nbsp;\#1:</dt><dd> Breaks if <code>&#x5c;cul</code> is followed by anything other
    than &ldquo;<tt>8r</tt>&rdquo;, with a confusing diagnostic&nbsp;&mdash;
    <code>&#x5c;cul99</code> produces:
<blockquote>

<pre>
! Use of \cul doesn't match its definition.
<*> \cul9
         9
</pre>


<pre>
! Use of \cul doesn't match its 
                           definition.
<*> \cul9
         9
</pre>

</blockquote>
    (which would confuse someone who hadn&rsquo;t even realised there
    <em>was</em> a definition of <code>&#x5c;cul</code> in the document).
  <dt class="description">Con&nbsp;\#2:</dt><dd> Silently redefines existing <code>&#x5c;cul</code>, if any;
    as a result, the technique cannot be used to define both a
    <code>&#x5c;cul8r</code> and, say, a <code>&#x5c;cul123</code> macro in the same
    document.
  </dl>
</ol>
Technique&nbsp;3 is in fact commonly used&nbsp;&mdash; in a limited form&nbsp;&mdash; within
most LaTeX packages and within LaTeX itself.  The convention is to
use &ldquo;<tt>@</tt>&rdquo; within the names of internal macros to hide them
from the user and thereby prevent naming conflicts.  To this end,
LaTeX automatically treats &ldquo;<tt>@</tt>&rdquo; as a letter while
processing classes and packages and as a non-letter while processing
the user&rsquo;s document.  The key to this technique is the separation:
internally a non-letter is used for macro names, and the user doesn&rsquo;t
see anything of it, while the status remains &ldquo;frozen&rdquo; in all the
definitions created within the class or package.  See 
<a class="FAquestion.html" href="FAQ-atsigns.html"><code>&#x5c;@</code> and <tt>@</tt> in macro names</a> for
more information.

<p>
Note that analogous use of technique&nbsp;3 in this example would give us
<blockquote>
<pre>
\begingroup
  \catcode`8 = 11 
  \gdef\cul8r{Goodbye!}
  \gdef\later{\cul8r}
\endgroup
I said, ``\later''.
</pre>
</blockquote>
which works, but rather defeats the object of the exercise.
(<code>&#x5c;later</code> has the &ldquo;frozen&rdquo; catcode for &lsquo;8&rsquo;, even though the value
has reverted to normal by the time it&rsquo;s used; note, also, the use of
the primitive command <code>&#x5c;gdef</code>, since <code>&#x5c;newcommand</code> can&rsquo;t make a
macro that&rsquo;s available outside the group.)

<p>
<em>Recommendation</em>: Either choose another mechanism (such as
<code>&#x5c;DefineRemark</code> above), or choose another name for your macro, one
that contains only ordinary letters.  A common approach is to use
roman numerals in place of arabic ones:
<blockquote>
<pre>
\newcommand{\culVIIIr}{Goodbye!}
</pre>
</blockquote>
which rather spoils the intent of the joke implicit in the example
<code>&#x5c;cul8r</code>!

<p class="lastedit">This answer last edited: 2009-06-03</p>
<p>This question on the Web: <a href="http://www.tex.ac.uk/cgi-bin/texfaq2html?label=Q-linmacnames">http://www.tex.ac.uk/cgi-bin/texfaq2html?label=Q-linmacnames</a>

<p>
